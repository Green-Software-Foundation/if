# SCI-O (operational emissions)

Operational emissions refer to the carbon generated by a component while it is in use. It is the product of the energy used by the component in kWh and the grid intensity in gCO2e/kWh. The operational emissions are added to the embodied emissions (calculated using `sci-m`) to provide an overall SCI score for the component.

## Calculation

To calculate the operational emissions `o` for a software application, use the following:

```
O = E * I
```

where `O` = operational emissions, `E` = energy in kWh, and `I `= grid carbon intensity. 

In the IEF implementation the calculation is expressed using the following terms:

```
o = (energy * grid-ci)
```

Read more on [operational emissions](https://github.com/Green-Software-Foundation/sci/blob/main/Software_Carbon_Intensity/Software_Carbon_Intensity_Specification.md#operational-carbon).

## Implementation

IEF implements the plugin based on the simple multiplication of the energy and intensity values as inputs. The `sci-o` model expects `energy` and `grid-ci` to be provided as `observations`.

> Note that the `energy` field is added to the `impl` by the `sci-e` model only. This means `sci-o` must always be preceded by `sci-e` in a model pipeline. This is always true, even if there is only a single component of `energy` such as `e-cpu` from `teads-curve`. `sci-e` sums all the available components and adds the sum to the `impl` as `energy`.

To run the model, you must first create an instance of `SciOModel` and call its `configure()` method. Then, you can call `calculate()` to return `operational-carbon`.

## Usage

The following snippet demonstrates how to call the `sci-o` model from Typescript.

```typescript
import {SciOModel} from '@gsf/ief';

const sciOModel = new SciOModel();
sciOModel.configure()
const results = sciOModel.calculate([
  {
    energy: 0.5, // energy value in kWh 
    'grid-ci': 0.5, // intensity value gCO2e/kWh
  }
])
```
## Example impl

IEF users will typically call the model as part of a pipeline defined in an `impl` file. In this case, instantiating and configuring the model is handled by `rimpl` and does not have to be done explicitly by the user. The following is an example `impl` that calls `sci-o`:

```yaml
name: sci-o-demo
description:
tags:
initialize:
  models:
    - name: sci-e
      kind: builtin
    - name: sci-o
      kind: builtin
graph:
  children:
    child:
      pipeline:
        - sci-e
        - sci-o
      config:
        sci-e:
      observations:
        - timestamp: 2023-08-06T00:00
          duration: 3600
          e-cpu: 0.001
          grid-ci: 800

```
